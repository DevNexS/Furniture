{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
      <div class="pull-right">
        <button type="submit" form="form" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
        <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a></div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container-fluid">
		{% if error_warning %}
		<script>
			usNotify('warning', '{{ error_warning }}');
		</script>
		{% endif %}
		{% if success %}
	    <script>
			usNotify('success', '{{ success }}');
		</script>
	    {% endif %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-pencil"></i> {{ text_edit }}</h3>
      </div>
      <div class="panel-body">
        <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form" class="form-horizontal">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#setting-tab" data-toggle="tab"><i class="fa fa-cog"></i> {{ tab_setting }}</a></li>
            <li><a href="#fields-tab" data-toggle="tab"><i class="fa fa-user"></i> {{ tab_filds }}</a></li>
            <li><a href="#cart-tab" data-toggle="tab"><i class="fa fa-shopping-cart"></i> {{ tab_cart }}</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="setting-tab">
			  <div class="form-group">
                <label class="col-sm-2 control-label" for="input-status">{{ entry_status }}</label>
                <div class="col-sm-10">
                  <select name="oct_fastorder_data[status]" id="input-status" class="form-control">
                    {% if  oct_fastorder_data.status %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
			  <div class="form-group">
				<label class="col-sm-2 control-label" for="input-cart_weight">{{ entry_cart_weight }}</label>
				<div class="col-sm-10">
					<select name="oct_fastorder_data[cart_weight]" id="input-cart_weight" class="form-control">
					{% if  oct_fastorder_data.cart_weight == 1 %}
					<option value="1" selected="selected">{{ text_enabled }}</option>
					<option value="0">{{ text_disabled }}</option>
					{% else %}
					<option value="1">{{ text_enabled }}</option>
					<option value="0" selected="selected">{{ text_disabled }}</option>
					{% endif %}
					</select>
				</div>
			  </div>
			  <div class="form-group" style="display:none;">
                <label class="col-sm-2 control-label" for="input-order_in_popup">{{ entry_order_in_popup }}</label>
                <div class="col-sm-10">
                  <select name="oct_fastorder_data[order_in_popup]" id="input-order_in_popup" class="form-control">
                    {% if  oct_fastorder_data.order_in_popup %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
            </div>
			<div class="tab-pane" id="cart-tab">
			  <fieldset>
				<legend>{{ text_cart_settings }}</legend>
				<div class="col-md-6">
					<div class="form-group">
						<label class="col-sm-5 control-label" for="input-cart_view_is">{{ entry_cart_view_is }}</label>
						<div class="col-sm-7">
						  <select name="oct_fastorder_data[cart_view_is]" id="input-cart_view_is" class="form-control">
							{% if  oct_fastorder_data.cart_view_is == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-5 control-label" for="input-minimum_order">{{ entry_minimum_order }}</label>
						<div class="col-sm-7">
						  <input type="text" name="oct_fastorder_data[minimum_order]" value="{% if oct_fastorder_data.minimum_order is defined and oct_fastorder_data.minimum_order %}{{ oct_fastorder_data.minimum_order }}{% else %}{% endif %}" placeholder="{{ entry_minimum_order }}" id="input-minimum_order" class="form-control" />
						</div>
					</div>
				</div>
				<div class="col-md-6">
					
					<!--<div class="form-group">
						<label class="col-sm-5 control-label" for="input-cart_rewards">{# echo $entry_cart_rewards;  #}</label>
						<div class="col-sm-7">
						  <select name="oct_fastorder_data[cart_rewards]" id="input-cart_rewards" class="form-control">
							{# if ($oct_fastorder_data['cart_rewards'] == 1) {  #}
							<option value="1" selected="selected">{# echo $text_enabled;  #}</option>
							<option value="0">{# echo $text_disabled;  #}</option>
							{# } else {  #}
							<option value="1">{# echo $text_enabled;  #}</option>
							<option value="0" selected="selected">{# echo $text_disabled;  #}</option>
							{# }  #}
						  </select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-5 control-label" for="input-cart_coupon">{# echo $entry_cart_coupon;  #}</label>
						<div class="col-sm-7">
						  <select name="oct_fastorder_data[cart_coupon]" id="input-cart_coupon" class="form-control">
							{# if ($oct_fastorder_data['cart_coupon'] == 1) {  #}
							<option value="1" selected="selected">{# echo $text_enabled;  #}</option>
							<option value="0">{# echo $text_disabled;  #}</option>
							{# } else {  #}
							<option value="1">{# echo $text_enabled;  #}</option>
							<option value="0" selected="selected">{# echo $text_disabled;  #}</option>
							{# }  #}
						  </select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-5 control-label" for="input-cart_voucher">{# echo $entry_cart_voucher;  #}</label>
						<div class="col-sm-7">
						  <select name="oct_fastorder_data[cart_voucher]" id="input-cart_voucher" class="form-control">
							{# if ($oct_fastorder_data['cart_voucher'] == 1) {  #}
							<option value="1" selected="selected">{# echo $text_enabled;  #}</option>
							<option value="0">{# echo $text_disabled;  #}</option>
							{# } else {  #}
							<option value="1">{# echo $text_enabled;  #}</option>
							<option value="0" selected="selected">{# echo $text_disabled;  #}</option>
							{# }  #}
						  </select>
						</div>
					</div>-->
					
					<div class="form-group">
						<label class="col-sm-5 control-label" for="input-max_order">{{ entry_max_order }}</label>
						<div class="col-sm-7">
						  <input type="text" name="oct_fastorder_data[max_order]" value="{% if oct_fastorder_data.max_order is defined and oct_fastorder_data.max_order %}{{ oct_fastorder_data.max_order }}{% else %}{% endif %}" placeholder="{{ entry_max_order }}" id="input-max_order" class="form-control" />
						</div>
					</div>
				</div>
			  </fieldset>
			</div>
			<div class="tab-pane" id="fields-tab">
				<fieldset>
				  <legend>{{ text_fields_settings }}</legend>
				  <div class="col-sm-6">
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-registration">{{ entry_registration }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[registration]" id="input-registration" class="form-control">
							{% if  oct_fastorder_data.registration == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-lastname">{{ entry_lastname }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[lastname]" id="input-lastname" class="form-control">
							{% if  oct_fastorder_data.lastname == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.lastname == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <!-- 3359 -->
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-email">{{ entry_email }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[email]" id="input-email" class="form-control">
							{% if  oct_fastorder_data.email == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif  oct_fastorder_data.email == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-notify_email">{{ entry_notify_email }}</label>
						<div class="col-sm-8">
						  <input type="text" name="oct_fastorder_data[notify_email]" value="{% if oct_fastorder_data.notify_email is defined and oct_fastorder_data.notify_email %}{{ oct_fastorder_data.notify_email }}{% else %}{% endif %}" id="input-notify_email" class="form-control" />
						  {% if  error_notify_email %}
							<div class="text-danger">
                                <script>
                                    usNotify('warning', '{{ error_notify_email }}');
                                </script>
                            </div>
						  {% endif %}
						</div>
					  </div>
					  <!-- 3359 -->
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-customer_groups">{{ entry_customer_groups }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[customer_groups]" id="input-customer_groups" class="form-control">
							{% if  oct_fastorder_data.customer_groups == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-fax">{{ entry_fax }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[fax]" id="input-fax" class="form-control">
							{% if  oct_fastorder_data.fax == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-company">{{ entry_company }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[company]" id="input-company" class="form-control">
							{% if  oct_fastorder_data.company == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-mask"><span data-toggle="tooltip" title="{{ entry_mask_info }}">{{ entry_mask }}</span></label>
						<div class="col-sm-8">
						  <input type="text" name="oct_fastorder_data[mask]" value="{{ oct_fastorder_data.mask }}" placeholder="{{ entry_mask_info }}" id="input-mask" class="form-control" />
						</div>
					  </div>
					</div>
					<div class="col-sm-6">
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-address_1">{{ entry_address_1 }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[address_1]" id="input-address_1" class="form-control">
							{% if  oct_fastorder_data.address_1 == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.address_1 == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-address_2">{{ entry_address_2 }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[address_2]" id="input-address_2" class="form-control">
							{% if  oct_fastorder_data.address_2 == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.address_2 == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-postcode">{{ entry_postcode }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[postcode]" id="input-postcode" class="form-control">
							{% if  oct_fastorder_data.postcode == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.postcode == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-city">{{ entry_city }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[city]" id="input-city" class="form-control">
							{% if  oct_fastorder_data.city == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.city == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-country_and_region">{{ entry_country_and_region }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[country_and_region]" id="input-country_and_region" class="form-control">
							{% if  oct_fastorder_data.country_and_region == 1 %}
								<option value="1" selected="selected">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							{% elseif oct_fastorder_data.country_and_region == 2 %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2" selected="selected">{{ text_enabled_required }}</option>
								<option value="0">{{ text_disabled }}</option>
							 {% else %}
								<option value="1">{{ text_enabled }}</option>
								<option value="2">{{ text_enabled_required }}</option>
								<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
					  <div class="form-group required">
						<label class="col-sm-4 control-label" for="input-country">{{ entry_default_country }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[default_country]" id="input-country" class="form-control">
							{% for country in countries %}
							{% if  country.country_id == oct_fastorder_data.default_country %}
							<option value="{{ country.country_id }}" selected="selected">{{ country.name }}</option>
							{% else %}
							<option value="{{ country.country_id }}">{{ country.name }}</option>
							{% endif %}
                            {% endfor %}
						  </select>
						  {% if  error_default_country %}
						  <div class="text-danger">
                            <script>
                                usNotify('warning', '{{ error_default_country }}');
                            </script>
                          </div>
						  {% endif %}
						</div>
					  </div>
					  <div class="form-group required">
						<label class="col-sm-4 control-label" for="input-region">{{ entry_default_region }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[default_region]" id="input-region" class="form-control">
						  </select>
						  {% if  error_default_region %}
						  <div class="text-danger">
                            <script>
                                usNotify('warning', '{{ error_default_region }}');
                            </script>
                          </div>
						  {% endif %}
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-city">{{ entry_default_city }}</label>
						<div class="col-sm-8">
						  <input type="text" name="oct_fastorder_data[default_city]" value="{{ oct_fastorder_data.default_city }}" placeholder="{{ entry_default_city }}" id="input-city" class="form-control" />
						  {% if  error_default_city %}
						  <div class="text-danger"></div>
                            <script>
                                usNotify('warning', '{{ error_default_city }}');
                            </script>
						  </div>
						  {% endif %}
						</div>
					  </div>
					  <div class="form-group">
						<label class="col-sm-4 control-label" for="input-comment">{{ entry_comment }}</label>
						<div class="col-sm-8">
						  <select name="oct_fastorder_data[comment]" id="input-comment" class="form-control">
							{% if  oct_fastorder_data.comment == 1 %}
							<option value="1" selected="selected">{{ text_enabled }}</option>
							<option value="0">{{ text_disabled }}</option>
							{% else %}
							<option value="1">{{ text_enabled }}</option>
							<option value="0" selected="selected">{{ text_disabled }}</option>
							{% endif %}
						  </select>
						</div>
					  </div>
				  </div>
				</fieldset>
				<fieldset>
					<legend>{{ text_dop_filds }} (<a href="{{ custom_fields_link }}">{{ edit_custom_fields }}</a>)</legend>
					<div class="table-responsive">
						<table class="table table-bordered table-hover" id="dop_fields_table">
						  <thead>
							<tr>
							  <td class="text-left">{{ column_name }}</td>
							  <td class="text-left">{{ column_location }}</td>
							  <td class="text-left">{{ column_type }}</td>
							  <td class="text-right">{{ column_sort_order }}</td>
							</tr>
						  </thead>
						  <tbody>
							{% if  custom_fields %}
							{% for custom_field in custom_fields %}
							<tr>
							  <td class="text-left">{{ custom_field.name }}</td>
							  <td class="text-left">{{ custom_field.location }}</td>
							  <td class="text-left">{{ custom_field.type }}</td>
							  <td class="text-right">{{ custom_field.sort_order }}</td>
							</tr>
							{% endfor %}
							{% else %}
							<tr>
							  <td class="text-center" colspan="6">{{ text_no_results }}</td>
							</tr>
							{% endif %}
						</tbody>
						<tfoot>
							<tr>
								<td colspan="3"></td>
								<td class="text-right">
									<span data-toggle="modal" data-target="#add-fields-modal">
										<a id="add_fields" href="javascript:;" data-toggle="tooltip" title="{{ button_add }}" class="btn btn-primary"><i class="fa fa-plus"></i></a>
									</span>
								</td>
							</tr>
						</tfoot>
						</table>
					</div>
				</fieldset>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="add-fields-modal">
	<div class="modal-dialog">
		<div class="modal-content">
			<form class="form-horizontal" method="POST" action="javascript:;" id="add-fields-form">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">{{ text_dop_filds }}</h4>
				</div>
				<div class="modal-body">
					<div class="form-group required">
						<label class="col-sm-3 control-label">{{ entry_name }}</label>
						<div class="col-sm-9">
							{% for language in languages %}
								<div class="input-group"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
									<input type="text" name="custom_field_description[{{ language.language_id }}][name]" value="" placeholder="{{ entry_name }}" class="form-control" />
								</div>
							{% endfor %}
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label" for="input-location">{{ entry_location }}</label>
						<div class="col-sm-9">
							<select name="location" id="input-location" class="form-control">
								<option value="account">{{ text_account }}</option>
								<option value="address">{{ text_address }}</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label" for="input-type">{{ entry_type }}</label>
						<div class="col-sm-9">
							<select name="type" id="input-type" class="form-control">
								<optgroup label="{{ text_input }}">
									<option value="text">{{ text_text }}</option>
									<option value="textarea">{{ text_textarea }}</option>
								</optgroup>
								<optgroup label="{{ text_choose }}">
									<option value="select">{{ text_select }}</option>
									<option value="radio">{{ text_radio }}</option>
									<option value="checkbox">{{ text_checkbox }}</option>
								</optgroup>
								<optgroup label="{{ text_file }}">
									<option value="file">{{ text_file }}</option>
								</optgroup>
								<optgroup label="{{ text_date }}">
									<option value="date">{{ text_date }}</option>
									<option value="time">{{ text_time }}</option>
									<option value="datetime">{{ text_datetime }}</option>
								</optgroup>
							</select>
						</div>
					</div>
					<div class="form-group" id="display-value">
						<label class="col-sm-3 control-label" for="input-value">{{ entry_value }}</label>
						<div class="col-sm-9">
							<input type="text" name="value" value="" placeholder="{{ entry_value }}" id="input-value" class="form-control" />
						</div>
					</div>
					<div class="form-group" id="display-validation">
						<label class="col-sm-3 control-label" for="input-validation"><span data-toggle="tooltip" title="{{ help_regex }}">{{ entry_validation }}</span></label>
						<div class="col-sm-9">
							<input type="text" name="validation" id="input-validation" value="" placeholder="{{ text_regex }}"  class="form-control"/>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label">{{ entry_customer_group }}</label>
						<div class="col-sm-9">
                            {% set customer_group_row = 0 %}
							{% for customer_group in customer_groups %}
								<div class="checkbox">
									<label>
										<input type="checkbox" name="custom_field_customer_group[{{ customer_group_row }}][customer_group_id]" value="{{ customer_group.customer_group_id }}" />
										{{ customer_group.name }}
									</label>
								</div>
								{% set customer_group_row = customer_group_row + 1 %}
							{% endfor %}
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label">{{ entry_required }}</label>
						<div class="col-sm-9">
							{% set customer_group_row = 0 %}
							{% for customer_group in customer_groups %}
								<div class="checkbox">
									<label>
										<input type="checkbox" name="custom_field_customer_group[{{ customer_group_row }}][required]" value="{{ customer_group.customer_group_id }}" />
										{{ customer_group.name }}
									</label>
								</div>
								{% set customer_group_row = customer_group_row + 1 %}
							{% endfor %}
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label" for="input-status">{{ entry_status }}</label>
						<div class="col-sm-9">
							<select name="status" id="input-status" class="form-control">
								<option value="1">{{ text_enabled }}</option>
								<option value="0">{{ text_disabled }}</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-3 control-label" for="input-sort-order"><span data-toggle="tooltip" title="{{ help_sort_order }}">{{ entry_sort_order }}</span></label>
						<div class="col-sm-9">
							<input type="text" name="sort_order" value="" placeholder="{{ entry_sort_order }}" id="input-sort-order" class="form-control" />
						</div>
					</div>
					<table id="custom-field-value" class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<td class="text-left required">{{ entry_custom_value }}</td>
								<td class="text-right">{{ entry_sort_order }}</td>
								<td></td>
							</tr>
						</thead>
						<tbody></tbody>
						<tfoot>
							<tr>
								<td colspan="2"></td>
								<td class="text-left"><button id="addCustomFieldValue" type="button" data-toggle="tooltip" title="{{ button_custom_field_value_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
							</tr>
						</tfoot>
					</table>
				</div>
				<div class="modal-footer">
					<i class="fa fa-circle-o-notch fa-spin add-redirect-loading hidden"></i>
					<button type="button" class="btn btn-warning" data-dismiss="modal">{{ button_cancel }}</button>
					<button type="button" id="addCustomerField" class="btn btn-primary">{{ button_create }}</button>
				</div>
			</form>
		</div>
	</div>
</div>

<script type="text/javascript"><!--
$(function(){
	$('select[name=\'type\']').on('change', function() {
		if (this.value == 'select' || this.value == 'radio' || this.value == 'checkbox') {
			$('#custom-field-value').show();
			$('#display-value, #display-validation').hide();
		} else {
			$('#custom-field-value').hide();
			$('#display-value, #display-validation').show();
		}
		
		if (this.value == 'date') {
			$('#display-value > div').html('<div class="input-group date"><input type="text" name="value" value="' + $('#input-value').val() + '" placeholder="{{ entry_value }}" data-date-format="YYYY-MM-DD" id="input-value" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div>');
		} else if (this.value == 'time') {
			$('#display-value > div').html('<div class="input-group time"><input type="text" name="value" value="' + $('#input-value').val() + '" placeholder="{{ entry_value }}" data-date-format="HH:mm" id="input-value" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div>');
		} else if (this.value == 'datetime') {
			$('#display-value > div').html('<div class="input-group datetime"><input type="text" name="value" value="' + $('#input-value').val() + '" placeholder="{{ entry_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div>');
		} else if (this.value == 'textarea') {
			$('#display-value > div').html('<textarea name="value" placeholder="{{ entry_value }}" id="input-value" class="form-control">' + $('#input-value').val() + '</textarea>');
		} else {
			$('#display-value > div').html('<input type="text" name="value" value="' + $('#input-value').val() + '" placeholder="{{ entry_value }}" id="input-value" class="form-control" />');
		}
		
		$('.date').datetimepicker({
			pickTime: false
		});
		
		$('.time').datetimepicker({
			pickDate: false
		});	
			
		$('.datetime').datetimepicker({
			pickDate: true,
			pickTime: true
		});
	});

	$('select[name=\'type\']').trigger('change');
});
$(document).ready(function() {
	var custom_field_value_row = 0;
	
	$("#addCustomFieldValue").click(function(){
		html  = '<tr id="custom-field-value-row' + custom_field_value_row + '">';	
		html += '  <td class="text-left" style="width: 70%;"><input type="hidden" name="custom_field_value[' + custom_field_value_row + '][custom_field_value_id]" value="" />';
		{% for language in languages %}
		html += '    <div class="input-group">';
		html += '      <span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span><input type="text" name="custom_field_value[' + custom_field_value_row + '][custom_field_value_description][{{ language.language_id }}][name]" value="" placeholder="{{ entry_custom_value }}" class="form-control" />';
		html += '    </div>';
		{% endfor %}
		html += '  </td>';
		html += '  <td class="text-right"><input type="text" name="custom_field_value[' + custom_field_value_row + '][sort_order]" value="" placeholder="{{ entry_sort_order }}" class="form-control" /></td>';
		html += '  <td class="text-left"><button type="button" onclick="$(\'#custom-field-value-row' + custom_field_value_row + '\').remove();" data-toggle="tooltip" title="{{ button_delete }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		html += '</tr>';	
		
		$('#custom-field-value tbody').append(html);
		
		custom_field_value_row++;
	});
	
	$('#addCustomerField').click(function(){
		$.ajax({
			url: 'index.php?route=octemplates/module/oct_fastorder/addCustomerField&user_token={{ user_token }}',
			type: 'post',
			data: $("#add-fields-form").serialize(),
			dataType: 'json',
			beforeSend: function() {
				$('#addCustomerField').attr('disabled', 'disabled');
				$('#addCustomerField').button('loading');
			},
			complete: function() {
				$('#addCustomerField').button('reset');
				$('#addCustomerField').removeAttr('disabled');
			},
			success: function(json) {
				if(json['success']) {
					html = '<tr>';
					html += '<td class="text-left">'+ json['success']['name'] +'</td>';
					html += '<td class="text-left">'+ json['success']['location'] +'</td>';
					html += '<td class="text-left">'+ json['success']['type'] +'</td>';
					html += '<td class="text-right">'+ json['success']['sort_order'] +'</td>';
					html += '</tr>';
					
					$('#dop_fields_table tbody').append(html);
					
					$("#add-fields-form").trigger("reset");
					$("#add-fields-modal").modal("hide");
				}
				
				if(json['error']) {					
					if (json['error']['name']) {
						$.each(json['error']['name'], function(i, val) {
							$("#add-fields-modal").find('[name="custom_field_description[' + i + '][name]"]').parent().parent().parent().addClass('has-error');
							$("#add-fields-modal").find('[name="custom_field_description[' + i + '][name]"]').parent().parent().append('<div class="text-danger">'+ val +'</div>');
						});
					}
					
					if (json['error']['custom_field_value']) {
						$.each(json['error']['custom_field_value'], function(i, val) {
							$("#add-fields-modal").find('[name="custom_field_value[' + i + '][custom_field_value_description]['+ val +'][name]"]').parent().addClass('has-error');
						});
					}
				}
			},
			error: function(xhr, ajaxOptions, thrownError) {
				alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
			}
		});
	});
});
//--></script>

<script type="text/javascript"><!--
$('select[name*=\'default_country\']').on('change', function() {
  $.ajax({
    url: 'index.php?route=octemplates/module/oct_fastorder/country&user_token={{ user_token }}&country_id=' + this.value,
    dataType: 'json',
    beforeSend: function() {
      $('select[name*=\'default_country\']').after(' <i class="fa fa-circle-o-notch fa-spin"></i>');
    },
    complete: function() {
      $('.fa-spin').remove();
    },
    success: function(json) {
      html = '<option value="">{{ text_select }}</option>';

      if (json['zone'] && json['zone'] != '') {
        for (i = 0; i < json['zone'].length; i++) {
                html += '<option value="' + json['zone'][i]['zone_id'] + '"';

          if (json['zone'][i]['zone_id'] == "{{ oct_fastorder_data.default_region }}") {
                  html += ' selected="selected"';
          }

          html += '>' + json['zone'][i]['name'] + '</option>';
        }
      } else {
        html += '<option value="0" selected="selected">{{ text_none }}</option>';
      }

      $('select[name*=\'default_region\']').html(html);
    },
    error: function(xhr, ajaxOptions, thrownError) {
      alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
    }
  });
});

$('select[name*=\'default_country\']').trigger('change');
//--></script>
<style>
	@media (min-width: 768px) {
		.modal-dialog{width:70%;}
	}
</style>
{{ footer }}